{"version":3,"sources":["src/extract-tags.js"],"names":["DomParser","require","tagParser","tagExtractor","content","imageTagsParsed","parseFromString","imageTags","getElementsByTagName","imageTagsProcessed","forEach","imageTag","attributes","imageTagAttrs","inlineImageAttrs","name","imageUrl","value","push","relativePath","remotePath","contentProcessed","module","exports"],"mappings":";;;;;;AAAA;AACA;AAEA,IAAMA,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAzB;;AACA,IAAMC,SAAS,GAAG,IAAIF,SAAJ,EAAlB;;AAEA,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAa;AAChC,MAAMC,eAAe,GAAGH,SAAS,CAACI,eAAV,CAA0BF,OAA1B,CAAxB;AACA,MAAMG,SAAS,GAAGF,eAAe,CAACG,oBAAhB,CAAqC,KAArC,CAAlB;AACA,MAAMC,kBAAkB,GAAG,EAA3B;AACAA,EAAAA,kBAAkB,CAACC,OAAnB,CAA2B,UAAAC,QAAQ,EAAI;AACnCA,IAAAA,QAAQ,CAACC,UAAT,CAAoBF,OAApB;AAAA,yEAA4B,iBAAOG,aAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5B,oBAAIC,gBAAgB,CAACC,IAAjB,KAA0B,KAA9B,EAAqC;AAC7BC,kBAAAA,QAD6B,qBACPH,aAAa,CAACI,KADP;AAEnCV,kBAAAA,SAAS,CAACW,IAAV,CAAe;AACbC,oBAAAA,YAAY,EAAEN,aAAa,CAACI,KADf;AAEbG,oBAAAA,UAAU,EAAEJ;AAFC,mBAAf;AAID;;AAP2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA5B;;AAAA;AAAA;AAAA;AAAA;AASH,GAVD;AAYA,SAAO;AACLK,IAAAA,gBAAgB,EAAEjB,OADb;AAELK,IAAAA,kBAAkB,EAAEA;AAFf,GAAP;AAID,CApBD;;AAsBAa,MAAM,CAACC,OAAP,GAAiB;AACfpB,EAAAA,YAAY,EAAZA;AADe,CAAjB","sourcesContent":["// in pre-processing markdown from Drupal\n// parse for non-gatsby image, svg, links and tractstack actions\n\nconst DomParser = require(\"dom-parser\");\nconst tagParser = new DomParser();\n\nconst tagExtractor = (content) => {\n  const imageTagsParsed = tagParser.parseFromString(content)\n  const imageTags = imageTagsParsed.getElementsByTagName(\"img\")\n  const imageTagsProcessed = [];\n  imageTagsProcessed.forEach(imageTag => {\n      imageTag.attributes.forEach(async (imageTagAttrs) => {\n      if (inlineImageAttrs.name === 'src') {\n        const imageUrl = `https://${imageTagAttrs.value}`;\n        imageTags.push({\n          relativePath: imageTagAttrs.value,\n          remotePath: imageUrl\n        });\n      }\n    })\n  });\n\n  return {\n    contentProcessed: content,\n    imageTagsProcessed: imageTagsProcessed\n  };\n}\n\nmodule.exports = {\n  tagExtractor\n}\n"],"file":"extract-tags.js"}