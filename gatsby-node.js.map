{"version":3,"sources":["src/gatsby-node.js"],"names":["DrupalNodes","exports","onCreateNode","node","createNodeId","createContentDigest","getNode","actions","internal","owner","includes","type","createNode","createNodeField","createParentChildLink","markdownNode","id","parent","children","mediaType","content","field_markdown_body","frontmatter","title","field_alt_description","contentDigest","child"],"mappings":";;;;AAAA;;;;;;AAEA,IAAMA,WAAW,GAAG,CAClB,qBADkB,EAElB,uBAFkB,EAGlB,kBAHkB,EAIlB,eAJkB,EAKlB,gBALkB,CAApB;;AAQAC,OAAO,CAACC,YAAR,GAAuB,gBAMjB;AAAA,MALJC,IAKI,QALJA,IAKI;AAAA,MAJJC,YAII,QAJJA,YAII;AAAA,MAHJC,mBAGI,QAHJA,mBAGI;AAAA,MAFJC,OAEI,QAFJA,OAEI;AAAA,MADJC,OACI,QADJA,OACI;;AACJ,MACEJ,IAAI,CAACK,QAAL,CAAcC,KAAd,KAAwB,sBAAxB,IACA,CAACT,WAAW,CAACU,QAAZ,CAAqBP,IAAI,CAACK,QAAL,CAAcG,IAAnC,CAFH,EAGE;AACA,WAAO,EAAP;AACD;;AACD,MAAQC,UAAR,GAA+DL,OAA/D,CAAQK,UAAR;AAAA,MAAoBC,eAApB,GAA+DN,OAA/D,CAAoBM,eAApB;AAAA,MAAqCC,qBAArC,GAA+DP,OAA/D,CAAqCO,qBAArC;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGE,MAAMC,YAAY,GAAG;AACnBC,IAAAA,EAAE,EAAEZ,YAAY,WAAID,IAAI,CAACa,EAAT,qBADG;AAEnBC,IAAAA,MAAM,EAAEd,IAAI,CAACa,EAFM;AAGnBE,IAAAA,QAAQ,EAAE,EAHS;AAInBV,IAAAA,QAAQ,EAAE;AACRG,MAAAA,IAAI,gBADI;AAERQ,MAAAA,SAAS,iBAFD;AAGRC,MAAAA,OAAO,EAAEjB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEkB;AAHP;AAJS,GAArB;AAUAN,EAAAA,YAAY,CAACO,WAAb,GAA2B;AACzBC,IAAAA,KAAK,EAAEpB,IAAI,CAACqB;AADa,GAA3B;AAGAT,EAAAA,YAAY,CAACP,QAAb,CAAsBiB,aAAtB,GAAsCpB,mBAAmB,CAACU,YAAD,CAAzD;AACAH,EAAAA,UAAU,CAACG,YAAD,CAAV;AACAD,EAAAA,qBAAqB,CAAC;AAAEG,IAAAA,MAAM,EAAEd,IAAV;AAAgBuB,IAAAA,KAAK,EAAEX;AAAvB,GAAD,CAArB;AAEA,SAAOA,YAAP;AACD,CA/CD","sourcesContent":["import * as React from \"react\";\n\nconst DrupalNodes = [\n  \"paragraph__markdown\",\n  \"paragraph__background\",\n  \"paragraph__video\",\n  \"paragraph__d3\",\n  \"paragraph__h5p\",\n];\n\nexports.onCreateNode = ({\n  node,\n  createNodeId,\n  createContentDigest,\n  getNode,\n  actions,\n}) => {\n  if (\n    node.internal.owner !== \"gatsby-source-drupal\" ||\n    !DrupalNodes.includes(node.internal.type)\n  ) {\n    return {};\n  }\n  const { createNode, createNodeField, createParentChildLink } = actions;\n\n  /*\n  var images = node?.relationships?.field_image___NODE;\n  var markdownPreProcess = node?.field_markdown_body;\n\n  for (const [i, id] of Object.entries(images)) {\n    var imageNode = getNode(id);\n    markdownPreProcess = MarkdownInjectImagePlaceholder(\n      markdownPreProcess,\n      id,\n      imageNode.filename\n    );\n  }\n*/\n\n  const markdownNode = {\n    id: createNodeId(`${node.id} MarkdownRemark`),\n    parent: node.id,\n    children: [],\n    internal: {\n      type: `PaneFragment`,\n      mediaType: `text/markdown`,\n      content: node?.field_markdown_body,\n    },\n  };\n  markdownNode.frontmatter = {\n    title: node.field_alt_description,\n  };\n  markdownNode.internal.contentDigest = createContentDigest(markdownNode);\n  createNode(markdownNode);\n  createParentChildLink({ parent: node, child: markdownNode });\n\n  return markdownNode;\n};\n"],"file":"gatsby-node.js"}