{"version":3,"file":"gatsby-node.js","names":["DrupalMarkdownNodes","exports","createSchemaCustomization","actions","createTypes","typeDefs","onCreateNode","node","createNodeId","createContentDigest","internal","owner","includes","type","createNode","createNodeField","createParentChildLink","markdownNode","id","parent","children","mediaType","content","field_markdown_body","frontmatter","title","field_alt_description","contentDigest","child"],"sources":["src/gatsby-node.js"],"sourcesContent":["import * as React from \"react\";\n\nconst DrupalMarkdownNodes = [\"paragraph__markdown\"];\n\nexports.createSchemaCustomization = ({ actions }) => {\n  const { createTypes } = actions;\n\n  const typeDefs = `\n  type node__story_fragmentRelationships {\n    field_menu: node__menu @link(by: \"id\", from: \"field_menu___NODE\")\n  }\n\n  type node__menu implements Node {\n    field_image_logo: node__menuField_image_logo\n    field_svg_logo: node__menuField_svg_logo\n    field_options: String\n    field_pixel_height_desktop: Int\n    field_pixel_height_mobile: Int\n    field_pixel_height_tablet: Int\n    field_theme: String\n }\n  type node__menuRelationships {\n    field_image_logo: file__file @link(by: \"id\", from: \"field_image_logo___NODE\")\n    field_svg_logo: file__file @link(by: \"id\", from: \"field_svg_logo___NODE\")\n  }\n  type node__menuField_image_logo {\n    display: Boolean\n    description: String\n    drupal_internal__target_id: Int\n  }\n  type node__menuField_svg_logo {\n    display: Boolean\n    description: String\n    drupal_internal__target_id: Int\n  }\n\n`;\n  createTypes(typeDefs);\n};\n\nexports.onCreateNode = ({\n  node,\n  createNodeId,\n  createContentDigest,\n  actions,\n}) => {\n  if (\n    node.internal.owner !== \"gatsby-source-drupal\" ||\n    !DrupalMarkdownNodes.includes(node.internal.type)\n  ) {\n    return {};\n  }\n  const { createNode, createNodeField, createParentChildLink } = actions;\n  switch (node.internal.type) {\n    case \"paragraph__markdown\":\n      // generate MarkdownRemark and PaneFragment\n      const markdownNode = {\n        id: createNodeId(`${node.id} MarkdownRemark`),\n        parent: node?.id,\n        children: [],\n        internal: {\n          type: `PaneFragment`,\n          mediaType: `text/markdown`,\n          content: node?.field_markdown_body,\n        },\n      };\n      markdownNode.frontmatter = {\n        title: node?.field_alt_description,\n        id: node?.id,\n      };\n      markdownNode.internal.contentDigest = createContentDigest(markdownNode);\n      createNode(markdownNode);\n      createParentChildLink({ parent: node, child: markdownNode });\n      return markdownNode;\n  }\n};\n"],"mappings":";;;;AAAA;;;;;;AAEA,IAAMA,mBAAmB,GAAG,CAAC,qBAAD,CAA5B;;AAEAC,OAAO,CAACC,yBAAR,GAAoC,gBAAiB;EAAA,IAAdC,OAAc,QAAdA,OAAc;EACnD,IAAQC,WAAR,GAAwBD,OAAxB,CAAQC,WAAR;EAEA,IAAMC,QAAQ,43BAAd;EA8BAD,WAAW,CAACC,QAAD,CAAX;AACD,CAlCD;;AAoCAJ,OAAO,CAACK,YAAR,GAAuB,iBAKjB;EAAA,IAJJC,IAII,SAJJA,IAII;EAAA,IAHJC,YAGI,SAHJA,YAGI;EAAA,IAFJC,mBAEI,SAFJA,mBAEI;EAAA,IADJN,OACI,SADJA,OACI;;EACJ,IACEI,IAAI,CAACG,QAAL,CAAcC,KAAd,KAAwB,sBAAxB,IACA,CAACX,mBAAmB,CAACY,QAApB,CAA6BL,IAAI,CAACG,QAAL,CAAcG,IAA3C,CAFH,EAGE;IACA,OAAO,EAAP;EACD;;EACD,IAAQC,UAAR,GAA+DX,OAA/D,CAAQW,UAAR;EAAA,IAAoBC,eAApB,GAA+DZ,OAA/D,CAAoBY,eAApB;EAAA,IAAqCC,qBAArC,GAA+Db,OAA/D,CAAqCa,qBAArC;;EACA,QAAQT,IAAI,CAACG,QAAL,CAAcG,IAAtB;IACE,KAAK,qBAAL;MACE;MACA,IAAMI,YAAY,GAAG;QACnBC,EAAE,EAAEV,YAAY,WAAID,IAAI,CAACW,EAAT,qBADG;QAEnBC,MAAM,EAAEZ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEW,EAFK;QAGnBE,QAAQ,EAAE,EAHS;QAInBV,QAAQ,EAAE;UACRG,IAAI,gBADI;UAERQ,SAAS,iBAFD;UAGRC,OAAO,EAAEf,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEgB;QAHP;MAJS,CAArB;MAUAN,YAAY,CAACO,WAAb,GAA2B;QACzBC,KAAK,EAAElB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEmB,qBADY;QAEzBR,EAAE,EAAEX,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEW;MAFe,CAA3B;MAIAD,YAAY,CAACP,QAAb,CAAsBiB,aAAtB,GAAsClB,mBAAmB,CAACQ,YAAD,CAAzD;MACAH,UAAU,CAACG,YAAD,CAAV;MACAD,qBAAqB,CAAC;QAAEG,MAAM,EAAEZ,IAAV;QAAgBqB,KAAK,EAAEX;MAAvB,CAAD,CAArB;MACA,OAAOA,YAAP;EApBJ;AAsBD,CAnCD"}