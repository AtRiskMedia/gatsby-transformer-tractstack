{"version":3,"file":"gatsby-node.js","names":["DrupalMarkdownNodes","exports","createSchemaCustomization","actions","createTypes","typeDefs","onCreateNode","node","createNodeId","createContentDigest","internal","owner","includes","type","createNode","createNodeField","createParentChildLink","markdownNode","id","parent","children","mediaType","content","field_markdown_body","frontmatter","title","field_alt_description","contentDigest","child"],"sources":["src/gatsby-node.js"],"sourcesContent":["import * as React from \"react\";\n\nconst DrupalMarkdownNodes = [\"paragraph__markdown\"];\n\nexports.createSchemaCustomization = ({ actions }) => {\n  const { createTypes } = actions;\n\n  /*\nschema to preset...\n\n    nodeStoryFragment(id: { eq: $id }) {\n      field_slug\n      relationships {\n        field_menu {\n          field_options\n          field_theme\n          relationships {\n            field_svg_logo {\n              localFile {\n                publicURL\n              }\n            }\n            field_image_logo {\n              localFile {\n                childImageSharp {\n                  mobile: gatsbyImageData(width: 256, placeholder: BLURRED)\n                  tablet: gatsbyImageData(width: 512, placeholder: BLURRED)\n                  desktop: gatsbyImageData(width: 768, placeholder: BLURRED)\n                }\n              }\n            }\n            field_menu_items {\n              field_title\n              field_slug\n              field_options\n              field_level\n            }\n          }\n        }\n        field_tract_stack {\n          relationships {\n            field_story_fragments {\n              relationships {\n                field_panes {\n                  field_slug\n                  field_options\n                }\n              }\n            }\n          }\n        }\n        field_panes {\n          field_slug\n          field_height_ratio_mobile\n          field_height_ratio_tablet\n          field_height_ratio_desktop\n          field_height_offset_mobile\n          field_height_offset_tablet\n          field_height_offset_desktop\n          relationships {\n            field_pane_fragments {\n              ... on paragraph__background_colour {\n                field_background_colour\n                field_hidden_viewports\n              }\n\n              ... on paragraph__background_pane {\n                field_zindex\n                field_shape_mobile\n                field_shape_tablet\n                field_shape_desktop\n                field_css_styles_parent_mobile\n                field_css_styles_parent_tablet\n                field_css_styles_parent_desktop\n                field_hidden_viewports\n                field_options\n              }\n\n              ... on paragraph__background_video {\n                field_zindex\n                field_alt_text\n                field_css_styles_parent_mobile\n                field_css_styles_parent_tablet\n                field_css_styles_parent_desktop\n                field_image_mask_shape_mobile\n                field_image_mask_shape_tablet\n                field_image_mask_shape_desktop\n                field_hidden_viewports\n                field_cdn_url\n                field_options\n              }\n\n              ... on paragraph__background_image {\n                field_zindex\n                field_alt_text\n                field_css_styles_parent_mobile\n                field_css_styles_parent_tablet\n                field_css_styles_parent_desktop\n                field_image_mask_shape_mobile\n                field_image_mask_shape_tablet\n                field_image_mask_shape_desktop\n                field_hidden_viewports\n                field_options\n                field_background_position\n                relationships {\n                  field_image {\n                    filename\n                    localFile {\n                      childImageSharp {\n                        gatsbyImageData(width: 768, placeholder: BLURRED)\n                      }\n                    }\n                  }\n                }\n              }\n\n              ... on paragraph__svg {\n                field_zindex\n                field_css_styles_parent_mobile\n                field_css_styles_parent_tablet\n                field_css_styles_parent_desktop\n                field_image_mask_shape_mobile\n                field_image_mask_shape_tablet\n                field_image_mask_shape_desktop\n                field_hidden_viewports\n                field_options\n                field_svg_file {\n                  description\n                }\n                relationships {\n                  field_svg_file {\n                    filename\n                    localFile {\n                      publicURL\n                    }\n                  }\n                }\n              }\n\n              ... on paragraph__markdown {\n                field_markdown_body\n                field_zindex\n                field_css_styles_mobile\n                field_css_styles_tablet\n                field_css_styles_desktop\n                field_css_styles_parent_mobile\n                field_css_styles_parent_tablet\n                field_css_styles_parent_desktop\n                field_image_mask_shape_mobile\n                field_image_mask_shape_tablet\n                field_image_mask_shape_desktop\n                field_text_shape_outside_mobile\n                field_text_shape_outside_tablet\n                field_text_shape_outside_desktop\n                field_hidden_viewports\n                field_options\n                field_modal\n                childPaneFragment {\n                  childMarkdownRemark {\n                    htmlAst\n                  }\n                }\n                relationships {\n                  field_image {\n                    filename\n                    localFile {\n                      childImageSharp {\n                        gatsbyImageData(width: 768, placeholder: BLURRED)\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n*/\n\n  const typeDefs = `\ntype node__menu implements Node {\n  field_image_logo: node__menuField_image_logo\n}\n\ntype node__menuRelationships {\n  field_image_logo: file__file @link(by: \"id\", from: \"field_image_logo___NODE\")\n}\n\ntype node__menuField_image_logo {\n  display: Boolean\n  description: String\n  drupal_internal__target_id: Int\n}\n\n`;\n  createTypes(typeDefs);\n};\n\nexports.onCreateNode = ({\n  node,\n  createNodeId,\n  createContentDigest,\n  actions,\n}) => {\n  if (\n    node.internal.owner !== \"gatsby-source-drupal\" ||\n    !DrupalMarkdownNodes.includes(node.internal.type)\n  ) {\n    return {};\n  }\n  const { createNode, createNodeField, createParentChildLink } = actions;\n  switch (node.internal.type) {\n    case \"paragraph__markdown\":\n      // generate MarkdownRemark and PaneFragment\n      const markdownNode = {\n        id: createNodeId(`${node.id} MarkdownRemark`),\n        parent: node?.id,\n        children: [],\n        internal: {\n          type: `PaneFragment`,\n          mediaType: `text/markdown`,\n          content: node?.field_markdown_body,\n        },\n      };\n      markdownNode.frontmatter = {\n        title: node?.field_alt_description,\n        id: node?.id,\n      };\n      markdownNode.internal.contentDigest = createContentDigest(markdownNode);\n      createNode(markdownNode);\n      createParentChildLink({ parent: node, child: markdownNode });\n      return markdownNode;\n  }\n};\n"],"mappings":";;;;AAAA;;;;;;AAEA,IAAMA,mBAAmB,GAAG,CAAC,qBAAD,CAA5B;;AAEAC,OAAO,CAACC,yBAAR,GAAoC,gBAAiB;EAAA,IAAdC,OAAc,QAAdA,OAAc;EACnD,IAAQC,WAAR,GAAwBD,OAAxB,CAAQC,WAAR;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAQE,IAAMC,QAAQ,+UAAd;EAgBAD,WAAW,CAACC,QAAD,CAAX;AACD,CAlMD;;AAoMAJ,OAAO,CAACK,YAAR,GAAuB,iBAKjB;EAAA,IAJJC,IAII,SAJJA,IAII;EAAA,IAHJC,YAGI,SAHJA,YAGI;EAAA,IAFJC,mBAEI,SAFJA,mBAEI;EAAA,IADJN,OACI,SADJA,OACI;;EACJ,IACEI,IAAI,CAACG,QAAL,CAAcC,KAAd,KAAwB,sBAAxB,IACA,CAACX,mBAAmB,CAACY,QAApB,CAA6BL,IAAI,CAACG,QAAL,CAAcG,IAA3C,CAFH,EAGE;IACA,OAAO,EAAP;EACD;;EACD,IAAQC,UAAR,GAA+DX,OAA/D,CAAQW,UAAR;EAAA,IAAoBC,eAApB,GAA+DZ,OAA/D,CAAoBY,eAApB;EAAA,IAAqCC,qBAArC,GAA+Db,OAA/D,CAAqCa,qBAArC;;EACA,QAAQT,IAAI,CAACG,QAAL,CAAcG,IAAtB;IACE,KAAK,qBAAL;MACE;MACA,IAAMI,YAAY,GAAG;QACnBC,EAAE,EAAEV,YAAY,WAAID,IAAI,CAACW,EAAT,qBADG;QAEnBC,MAAM,EAAEZ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEW,EAFK;QAGnBE,QAAQ,EAAE,EAHS;QAInBV,QAAQ,EAAE;UACRG,IAAI,gBADI;UAERQ,SAAS,iBAFD;UAGRC,OAAO,EAAEf,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEgB;QAHP;MAJS,CAArB;MAUAN,YAAY,CAACO,WAAb,GAA2B;QACzBC,KAAK,EAAElB,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEmB,qBADY;QAEzBR,EAAE,EAAEX,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEW;MAFe,CAA3B;MAIAD,YAAY,CAACP,QAAb,CAAsBiB,aAAtB,GAAsClB,mBAAmB,CAACQ,YAAD,CAAzD;MACAH,UAAU,CAACG,YAAD,CAAV;MACAD,qBAAqB,CAAC;QAAEG,MAAM,EAAEZ,IAAV;QAAgBqB,KAAK,EAAEX;MAAvB,CAAD,CAArB;MACA,OAAOA,YAAP;EApBJ;AAsBD,CAnCD"}